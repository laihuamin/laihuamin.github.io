<!DOCTYPE html><html lang="null"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>vue面试 | 蜗居</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/6.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.2/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.2/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">vue面试</h1><a id="logo" href="/.">蜗居</a><p class="description"></p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 文章</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">vue面试</h1><div class="post-meta">Jul 31, 2017<script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> Hits</span></span></div><div class="post-content"><p>vue在面试中必然会提及，根据几个面试的问题，我来写几点个人看法<br><a id="more"></a></p>
<h2 id="对于MVVM框架的实现"><a href="#对于MVVM框架的实现" class="headerlink" title="对于MVVM框架的实现"></a>对于MVVM框架的实现</h2><p><a href="http://web.jobbole.com/89314/" target="_blank" rel="external">浅谈mvvm框架</a>这篇文章写的挺不错的，值得一看，这里我讲的仅仅是mvvm，以前写过一篇框架的发展流程。<br>先来看一张model-view-viewmodel的关系图：<br><img src="http://jbcdn2.b0.upaiyun.com/2016/12/3398a32f347a4a3200ac92c024cf9a81.png" alt="model-view-viewmodel关系图"><br>MVVM框架使用<strong>数据绑定(Data Binding)、依赖属性(Dependency Property)、命令(Command)、路由事件(Routed Event) </strong>来搞定与view层的交互， 但是这种绑定是与某种具体技术栈相关的， ViewModel从Model中抽象而来，但更贴近于业务模型， 比如你Model中某字段是 true false， ViewModel中可能就是 “黑”，”白”等 这种更贴近业务场景的描述。 ViewModel中的属性直接与某具体控件的属性相绑定。 也就是说当某具体控件发生变化，ViewModel中的 某个字段就会跟着变化，然后Model中的字段也会进一步变化。<br><img src="http://jbcdn2.b0.upaiyun.com/2016/12/20e7f774255b4a747163af88dadd7951.png" alt="例子"><br><strong>例子的实现过程：</strong><br>当用户操作UI即男女性别时：<br>1、数据和ui的双向绑定（框架会自动完成）<br>2、会将这一事件传入vm层，vm发生变化<br>3、当vm中的sex发生变化时，他会改变m中相应的sex<br>4、当m中的sex发生改变，他会通知所有与sex有关系的数据发生更新<br>5、当数据更新完之后，会反映到vm层<br>6、vm层接受到响应，会改变v层</p>
<h2 id="什么时候用methods，什么时候用计算属性，什么时候用watch"><a href="#什么时候用methods，什么时候用计算属性，什么时候用watch" class="headerlink" title="什么时候用methods，什么时候用计算属性，什么时候用watch"></a>什么时候用methods，什么时候用计算属性，什么时候用watch</h2><p>methods是方法，比如事件要用到某一个方法时，可以用这个<br>computed是计算属性，就是你希望一个值通过计算得到另一个值，可以用这个<br>watch是一个观察者模式，当数据发生变化时，触发响应的方法</p>
<h2 id="vue的生命周期"><a href="#vue的生命周期" class="headerlink" title="vue的生命周期"></a>vue的生命周期</h2><p>先来看一张官网上的图：<br><img src="http://upload-images.jianshu.io/upload_images/1627906-19fafa634c837a20.png?imageMogr2/auto-orient/strip%7CimageView2/2" alt="生命周期"><br>1、beforecreate<br>2、create<br>data在create的时候就可以获取到<br>3、beforemounted<br>4、mounted<br>dom渲染在这个时候开始进行，dom挂载完毕<br>5、beforeupdated<br>6、updated<br>当view层改变时，会触发这个钩子，会完成相应的更新<br>7、beforedestroied<br>8、destroied<br>destroy仅调用app.$destory()方法，对实例惊醒损毁，损毁完之后，操作number，dom将不再更新</p>
<h2 id="vue的双向绑定"><a href="#vue的双向绑定" class="headerlink" title="vue的双向绑定"></a>vue的双向绑定</h2><p>双向绑定的原理之前写过一篇博文，现在再来回顾一遍原理，具体的就不写了。<br>首先双向绑定是用Object.defineProperty()方法来实现的，这个方法的作用是可以操作对象的某一个属性值，然后还可以通过getter和setter两个方法来改变和获得某个属性值，当数据发生改变时，会触发setter中的dep.nofity()方法，去更新watcher订阅者。<br><img src="http://upload-images.jianshu.io/upload_images/6018041-bc0536105b2760f2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="data更新view"><br>然后实现双向绑定要三步走：<br>第一步是要有一个观察者observer，来监测数据的变化，当数据发生变化时，通知相应的watcher发生变化，更新视图。<br>第二步就是要有一个订阅者watcher，订阅者的功能就是与数据相对应，当期发生变化时，可以改变view层。<br>第三步还要一个解析器complier，他的作用就是扫描和解析每一个节点的相关指令，并初始化模板数据和初始化相应的订阅者<br><img src="http://upload-images.jianshu.io/upload_images/6018041-0cc9d94a3f3c9af7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="流程图"><br>具体流程：<br>1、先要有一个observer，来监听所有属性值，当其发生变化时通知订阅者watcher。<br>2、订阅者并非一个，而是有多个，需要有一个消息订阅者Dep来管理众多的订阅者，然后把他和observer进行统一的管理。<br>3、接下来，我们需要有个解析器complie，他会把每一个节点元素进行扫描分析，然后在将其初始化为一个订阅者，并且更新模板数据或者绑定相应的函数。<br>4、当订阅者接收到相应变化时，就会更新视图。</p>
<h2 id="如何合理的抽离组件"><a href="#如何合理的抽离组件" class="headerlink" title="如何合理的抽离组件"></a>如何合理的抽离组件</h2><p><strong>组件抽离需要考虑的因素：</strong><br>1、适应UI设计师的建模<br>2、工程上的可维护要求<br>3、常见用例和边缘用例的矛盾<br>4、自定义组件和html的穿插交互<br>5、适应将来业务的可扩展性和可制定性<br><strong>组件的划分：</strong><br>木偶组件：简单状态或者无状态的，数据全靠依赖注入，如input标签就可以抽象成一个木偶组件。<br>智能组件：智能组件可以由若干个木偶组件或者智能组件组成，具有一定的方法，用来修改自身持有的数据，也可以通过自身数据变化操作子组件。<br>其实组件系统和员工系统有部分相似，如果把其类比为员工系统，更加有益于划分<br><strong>组件化的好处：</strong><br>1、组件化易于代码的复用，提高代码利用率，提升效率。<br>2、单一的组件有自己独自的功能，当出现问题，可以很快的定位到某一个组件，快速解决。<br>3、组件与组件之间的联系也不够大，可以很轻松的避免组件之前的入侵。<br><strong>组件化的弊端：</strong><br>1、由于组件之间的联系不大，所以组件之间的通信障碍难以避免。<br>2、组件该如何划分，也是一个问题，划分不够清晰，可能效率不够高</p>
<h2 id="各个组件的通信"><a href="#各个组件的通信" class="headerlink" title="各个组件的通信"></a>各个组件的通信</h2><p>父子组件流程图：<br><img src="https://camo.githubusercontent.com/f6777ebb146f024efe3ab7562e048935fdc73ff1/687474703a2f2f76756566652e636e2f696d616765732f70726f70732d6576656e74732e706e67" alt="父子组件"><br><strong>父传子：</strong><br>1、利用props属性：<br><figure class="highlight arduino"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//父组件</span></div><div class="line">&lt;child :message=data&gt;&lt;child&gt;</div><div class="line"><span class="comment">//子组件</span></div><div class="line">Vue.component(<span class="string">'child'</span>,&#123;</div><div class="line">    props: [<span class="string">'message'</span>],</div><div class="line">    <span class="keyword">template</span>: <span class="string">'&lt;span&gt;&#123;&#123;message&#125;&#125;&lt;/span&gt;'</span></div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>
<p>2、单向数据流：<br>数据流是单项的，prop是单向绑定的，当父组件的数据发生改变时会发送给子组件，防止子组件无意间修改父组件。<br>3、改变props通常情况：<br>⑴prop传入做初始化的值，相当于本地数据<br>⑵prop作为需要被转变的原始值传入<br><strong>子传父：</strong><br>1、利用自定义事件<br>v-on绑定事件<br>$on监听事件<br>$emit触发事件<br><figure class="highlight xquery"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line">&lt;div id=<span class="string">'father'</span>&gt;</div><div class="line">    &lt;p&gt;&#123;&#123;total&#125;&#125;&lt;/p&gt;</div><div class="line">    &lt;button v-on:emitThing=<span class="string">'Total'</span>&gt;&lt;button&gt;</div><div class="line">&lt;/div&gt;</div><div class="line"></div><div class="line">Vue.component(<span class="string">'button'</span>, &#123;</div><div class="line">    data ()&#123;</div><div class="line">        return&#123;</div><div class="line">            counter:<span class="number">0</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;,</div><div class="line">    methods: &#123;</div><div class="line">        emitThing () &#123;</div><div class="line">            this.counter += <span class="number">1</span>;</div><div class="line">            this.$emit(<span class="string">'emitThing'</span>);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;)</div><div class="line"></div><div class="line">new Vue(&#123;</div><div class="line">    el: <span class="string">'father'</span>,</div><div class="line">    data ()&#123;</div><div class="line">        return&#123;</div><div class="line">            total: <span class="number">0</span></div><div class="line">        &#125;</div><div class="line">    &#125;,</div><div class="line">    method:&#123;</div><div class="line">        Total () &#123;</div><div class="line">            this.total += <span class="number">1</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>
<p><strong>无关联的组件之间的通信：</strong><br>1、简单的情况可以用Event Bus<br><img src="https://camo.githubusercontent.com/4bcd2174fc43d4b9d531cf8540eb40c7403ae8de/687474703a2f2f696d6731372e706f636f2e636e2f6d79706f636f2f6d7970686f746f2f32303135303530312f32312f31373335363236333432303135303530313231323134383038312e706e673f31303234783338335f313230" alt="Event Bus"><br>Event Bus是一个空的Vue实例，是一个中央事件总线：<br><figure class="highlight lasso"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">var</span> bus = <span class="literal">new</span> Vue()</div><div class="line"><span class="comment">//发布消息</span></div><div class="line">bus.$emit(<span class="string">'xx'</span>,xx);</div><div class="line"><span class="comment">//订阅消息</span></div><div class="line">bus.$on(<span class="string">'xx'</span>,xx);</div></pre></td></tr></table></figure></p>
<p>更加复杂的可以用状态管理。</p>
<h2 id="公用方法mixin处理"><a href="#公用方法mixin处理" class="headerlink" title="公用方法mixin处理"></a>公用方法mixin处理</h2><h2 id="全局状态该如何储存"><a href="#全局状态该如何储存" class="headerlink" title="全局状态该如何储存"></a>全局状态该如何储存</h2><h2 id="如何自定义组件的指令"><a href="#如何自定义组件的指令" class="headerlink" title="如何自定义组件的指令"></a>如何自定义组件的指令</h2><h2 id="内置组件"><a href="#内置组件" class="headerlink" title="内置组件"></a>内置组件</h2><h2 id="axios的原理"><a href="#axios的原理" class="headerlink" title="axios的原理"></a>axios的原理</h2></div><script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><a data-url="http://laihuamin.github.io/2017/07/31/vue的面试总结/" data-id="cj5uvsh4o0008v8qlmvt5lqg0" class="article-share-link">Aktie</a><div class="tags"></div><div class="post-nav"><a href="/2017/08/01/vuex深入学习/" class="pre">vuex深入学习</a><a href="/2017/07/31/Vue源码之globalApi/" class="next">Vue源码之globalApi(index.js)</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank" class="search-form"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="http://laihuamin.github.io"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 其他</i></div><ul></ul><a href="http://www.jianshu.com/u/5be4d0169f64" title="简书" target="_blank">简书</a><ul></ul><a href="https://github.com/laihuamin" title="github" target="_blank">github</a></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2017/08/02/虚拟dom/">虚拟dom</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/08/02/vue-router深入学习/">vue-router深入学习</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/08/01/vuex深入学习/">vuex深入学习</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/07/31/vue的面试总结/">vue面试</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/07/31/Vue源码之globalApi/">Vue源码之globalApi(index.js)</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/07/29/关于TypeScript/">TypeScript学习笔记（一）</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/07/29/vue源码-shared/">Vue源码——shared</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/07/28/vue目录结构分析/">vue源码目录结构分析</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/07/27/ES6的新特性（上）/">ES的新特性（上）</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/07/27/MVVM框架理解/">对MVC、MVP和MVVM总体理解</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 作品集</i></div><ul></ul><a href="http://119.23.222.225:8081/" title="简历" target="_blank">简历</a><ul></ul><a href="http://119.23.222.225:8082/#/goods" title="饿了么作品" target="_blank">饿了么作品</a><ul></ul><a href="http://119.23.222.225:8083/#/recommend" title="音乐App" target="_blank">音乐App</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2017 <a href="/." rel="nofollow">蜗居.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.0.47/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.0.47/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>